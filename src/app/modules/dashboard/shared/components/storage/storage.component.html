<div class="storage">
  <div class="container">
    <div class="card">
      <div class="card__content">
        <div class="storage__library">
          <div class="storage__library-wrap" *ngIf="storageLib">
            <div class="storage__file" *ngFor="let image of storageLib">
              <img [attr.src]="image.url" alt="" (click)="showDetailInfo($event, image.url, image.metaData)">
            </div>
            <div class="storage__file">
              <label for="upload" class="storage__upload">
                <input id="upload" class="storage__upload-input" type="file" (change)="uploadImage($event.target.files)">
              </label>
            </div>
          </div>
          <ng-container *ngIf="detailImageInfo">
            <div class="storage__library-info">
              <h4>Параметры файла</h4>
              <div class="storage__detail-img">
                <img [attr.src]="detailImageInfo.url" alt="">
              </div>
              <div class="storage__detail-info">
                <div class="storage__detail-subtitle">Название файла:</div>
                <span>{{ detailImageInfo.name }}</span>
              </div>
              <div class="storage__detail-info">
                <div class="storage__detail-subtitle">Тип:</div>
                <span>{{ detailImageInfo.contentType }}</span>
              </div>
              <div class="storage__detail-info">
                <div class="storage__detail-subtitle">Размер:</div>
                <span>{{ detailImageInfo.size }} Б</span>
              </div>
              <div class="storage__detail-info">
                <div class="storage__detail-subtitle">Дата создания:</div>
                <span>{{ detailImageInfo.timeCreated | date: 'medium':null:'ru' }}</span>
              </div>
              <button type="button" class="btn__link btn__link_danger" (click)="deleteImage(detailImageInfo.fullPath)">Удалить</button>
              <div class="divider"></div>
              <form class="form storage__detail-form" [formGroup]="customMetaForm" (submit)="updateMeta(detailImageInfo.fullPath)">
                <div class="form__group">
                  <label for="url" class="form__label">URL</label>
                  <input type="url" id="url" class="form__input" formControlName="url">
                </div>
                <div class="form__group">
                  <label for="title" class="form__label">Заголовок</label>
                  <input type="title" id="title" class="form__input" formControlName="title">
                </div>
                <div class="form__group">
                  <label for="alt" class="form__label">Атрибут Alt</label>
                  <input type="alt" id="alt" class="form__input" formControlName="alt">
                </div>
                <button type="submit" class="btn btn__primary">Обновить</button>
              </form>
            </div>
          </ng-container>
        </div>
        <ng-container *ngIf="detailImageInfo">
          <div class="storage__footer">
            <button type="button" class="btn btn__primary" (click)="chooseImageURL(detailImageInfo)">Установить изображение</button>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</div>